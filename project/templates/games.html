{% extends "base.html" %}

{% block title %}Game Info{% endblock %}

{% block content %}

{% if game_info %}
<div class="row">
    {% for game in game_info %}
    <div class="col s12 m4 l3">
        <div class="card fixed-size game-card">
            <div class="card-action">
                <form id="toggle-favorite-form-{{ game.id }}" class="add-to-favorites-form" method="post">
                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                    <input type="hidden" name="game_id" value="{{ game.id }}">
                    <button type="submit" class="btn-floating btn-large waves-effect waves-light red game-card-btn btn-add-favorite">
                        <i class="material-icons">{% if game in current_user.favorites %}favorite{% else %}favorite_border{% endif %}</i>
                    </button>
                </form>
            </div>
            <div class="card-image waves-effect waves-block waves-light">
                {% if game.cover %}
                <a href="{{ url_for('routes.game_details', game_id=game.id) }}" target="_blank">
                    <img class="activator" src="{{ game.cover.url }}">
                </a>
                {% else %}
                <img class="activator" src="{{ url_for('static', filename='images/cover-placeholder.webp') }}">
                {% endif %}
            </div>
            <div class="card-content">
                <span class="card-title center-align activator grey-text text-darken-4">
                    <a href="{{ url_for('routes.game_details', game_id=game.id) }}" target="_blank">{{ game.name }}</a>
                </span>
            </div>
        </div>
    </div>
    {% endfor %}
</div>
{% endif %}
{% endblock %}